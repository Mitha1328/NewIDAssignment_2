<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <title>Document</title>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-alpha.6/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-alpha.6/js/bootstrap.min.js"></script>
        <script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
        <script src="https://unpkg.com/leaflet@1.0.3/dist/leaflet.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
        <style>
            @import url('https://fonts.googleapis.com/css?family=Henny+Penny|Open+Sans');

            body {
            font-family: 'Open Sans', sans-serif;
            background: #BCC6CC;
            background: linear-gradient(#BCC6CC, white);
            }

            .container {
            width: 1000px;
            margin: 0 auto;
            padding: 15px;
            }

            .row_margin {
            margin-bottom: 40px;
            }

            .
            /* title and intro*/

            #title {
            display: block;
            margin: 0 auto;
            }

            #intro_para {
            text-align: center;
            width: 95%;
            margin: 0 auto;
            }


            /*box office chart*/
            #boxoffice_chart {
            height:400px;
            width:100%;
            }

            /* award chart */
            #award_chart_container {
            margin:0;
            }


            /* location map */
            #location_map { 
            height: 500px; 
            width:100%;
            margin:0 auto;
            }

            #map_title, #profiletitle, #sources_title {
            margin-bottom:20px;
            font-family: 'Henny Penny', cursive;
            font-size: 180%;
            color:black;
            }
            /*sources*/
            .sources_link {
            color:black;
            }

            .sources_link:hover {
            color:#BCC6CC;
            }

        </style>
    </head>
    <body>
                
        <div class="container">
            <!--document title and intro paragraph-->
            <div class="row">
                <div class="col-md-12 text-center">
                    <div id="doc_title">
                        <img id="title" src="http://i1043.photobucket.com/albums/b435/sophhibb/title_zpsbd5nuig2.png">
                    </div>
                </div>
            </div>

            <div id="intro_para">
                <p>The Harry Potter franchise is a series of books written by the British author J.K.Rowling. The novels follow the young wizard, Harry Potter and his friends during their time as students at Hogwarts School of Witchcraft and Wizardry.</p>
            </div>


            <!--boxoffice chart and image-->
            <div class="row row_margin">
                <div class="col-md-9 text-center">
                    <div id="boxoffice_chart"></div> 
                </div>

                <div class="col-md-3 text-center">
                    <div id="boxoffice_flag">
                        <img src="http://i1043.photobucket.com/albums/b435/sophhibb/flag_zpsfglyjivj.png"/>
                    </div>
                </div>
            </div>

            <!--glasses fact-->
            <div class="row row_margin">
                <div class="col-md-6 text-center">
                    <div id="glasses_fact">
                        <img src="http://i1043.photobucket.com/albums/b435/sophhibb/glasses-fact_zpseynbqkkw.png">
                    </div>
                </div>

                <div class="col-md-6 text-center">
                    <div id="glasses_img">
                        <img src="http://i1043.photobucket.com/albums/b435/sophhibb/potter-face_zpsxpmyacc1.png">

                    </div>
                </div>
            </div>

            <!--awards-->
            <div class="row row_margin">
                <div class="col-md-5 text-center">
                    <div id="trophy">
                        <img src="http://i1043.photobucket.com/albums/b435/sophhibb/award_zpsb7zzi0cv.png">
                    </div>
                </div>
            
                <div class="col-md-7 text-center">
                    <div id="award_chart">
                        <div id="award_chart_container" style="height: 400px; width: 500px;"></div>
                    </div>
                </div>
            </div>
                
            <!-- filiming locations-->    
            <div class="row">
                <div class="col-md-12 text-center">
                    <h1 id="map_title">Harry Potter UK Filming Locations</h1>
                </div>
            </div>

            <div class="row row_margin">
                <div class="col-md-12 text-center">
                    <div id="location_map"></div>
                
                </div>
            </div>

            <!--sources-->
            <div class="row row_margin">
                <div class="col-md-12 text-center">
                    <button class="click_sources">CLICK HERE for sources!</button>
                    <div class="sources">
                        <h1 id="sources_title">Sources</h1>
                        <p>Budget vs. Box Office: <a class="sources_link" href="http://www.the-numbers.com/movies/franchise/Harry-Potter#tab=summary">http://www.the-numbers.com/movies/franchise/Harry-Potter#tab=summary</a></p>
                        
                        <p>Glasses Fact: <a class="sources_link" href="https://www.telegraph.co.uk/culture/harry-potter/8621235/Harry-Potter-by-numbers.html">https://www.telegraph.co.uk/culture/harry-potter/8621235/Harry-Potter-by-numbers.html</a></p>
                        
                        <p>Harry Potter Profiles: <a class="sources_link" href="https://github.com/SkyHacks/nerds/blob/master/dist/topics/harry_potter.js"> https://github.com/SkyHacks/nerds/blob/master/dist/topics/harry_potter.js</a></p>
                        
                        <p>Filming Locations and Awards: <a class="sources_link" href="http://www.imdb.com/"> http://www.imdb.com/</a></p>
                            
                    </div>
                </div>
            </div>
        </div>

        <script>
            //boxoffice chart
            var chart433875 = new CanvasJS.Chart("boxoffice_chart",
                    {
                        backgroundColor: "transparent",
                        animationEnabled: true,
                        title:{
                            text: "Budget vs. Box Office",
                            fontSize: 30,
                            fontFamily: "'Henny Penny'",
                            fontColor: "black",
                            },	
                        legend: {
                            fontFamily: "'Open Sans'"
                            },
                        axisX: {
                            labelFontSize:10,
                            labelFontFamily: "'Open Sans'"
                            },
                        axisY: {
                            titleFontSize:20,
                            labelFontSize:15,
                            labelFontFamily: "'Open Sans'"
                            },	
                        axisY2: {
                            labelFontSize:15,
                            labelFontFamily: "'Open Sans'"
                            },
                        data: [{
                            color: "#222f5b",
                            type: "column",	
                            name: "Budget",
                            legendText: "Budget",
                            showInLegend: true, 
                            dataPoints:[
                                {label: "Philosophers Stone ($)", y: 125000000},
                                {label: "Chamber of Secrets ($)", y: 100000000},
                                {label: "Prisoner of Azkaban ($)", y: 130000000},
                                {label: "Goblet of Fire ($)", y: 150000000},
                                {label: "Order of the Phoenix ($)", y: 150000000},
                                {label: "Half-Blood Prince ($)", y: 250000000},
                                {label: "Deathly Hallows I ($)", y: 125000000},
                                {label: "Deathly Hallows II ($)", y: 125000000}


                            ]},

                            {
                                color: "#ae0001",
                                type: "column",	
                                name: "Worldwide Box Office",
                                legendText: "Worldwide Box Office",
                                axisYType: "secondary",
                                showInLegend: true,
                                dataPoints:[
                                    {label: "Philosophers Stone ($)", y: 974755371	},
                                    {label: "Chamber of Secrets ($)", y: 878979634},
                                    {label: "Prisoner of Azkaban ($)", y: 796688549},
                                    {label: "Goblet of Fire ($)", y: 896911078},
                                    {label: "Order of the Phoenix ($)", y: 942943935},
                                    {label: "Half-Blood Prince ($)", y: 935083686},
                                    {label: "Deathly Hallows I ($)", y: 960283305},
                                    {label: "Deathly Hallows II ($)", y: 1341511219}
                                ]
                            }
                        ],
                    });

            chart433875.render();
                chart433875 = {};

            //award chart
            var chart786968 = new CanvasJS.Chart("award_chart_container", {
                backgroundColor: "transparent",
                title: {
                    text: "Film Awards",
                    fontFamily: "'Henny Penny'",
                    fontColor: "black",
                },
                animationEnabled: true,
                data: [{
                    type: "doughnut",
                    startAngle: 60,
                    indexLabelFontFamily: "'Open Sans'",
                    indexLabelFontSize: 15,
                    toolTipContent: "{legendText}: {y}",
                    showInLegend: false,
                    dataPoints: [{
                        y: 17,
                        indexLabel: "Philosopher's Stone",
                        legendText: "Philosopher's Stone",
                        color: "#2a623d"
                    }, {
                        y: 11,
                        indexLabel: "Chamber of Secrets",
                        legendText: "Chamber of Secrets",
                        color: "#eee117"
                    }, {
                        y: 14,
                        indexLabel: "Prisoner of Azkaban",
                        legendText: "Prisoner of Azkaban",
                        color: "#2a623d"
                    }, {
                        y: 13,
                        indexLabel: "Goblet of Fire",
                        legendText: "Goblet of Fire",
                        color: "#eee117"
                    }, {
                        y: 14,
                        indexLabel: "Order of the Phoenix",
                        legendText: "Goblet of Fire",
                        color: "#2a623d"
                    }, {
                        y: 8,
                        indexLabel: "Half-Blood Prince",
                        legendText: "Half-Blood Prince",
                        color: "#eee117"
                    }, {
                        y: 16,
                        indexLabel: "Deathly Hallows I",
                        legendText: "Deathly Hallows I",
                        color: "#2a623d"
                    }, {
                        y: 46,
                        indexLabel: "Deathly Hallows II",
                        legendText: "Deathly Hallows II",
                        color: "#eee117"
                    }]
                }]
            });
                chart786968.render();
                chart786968 = {};
            

            //location map 
            var map = L.map('location_map').setView([54.343,1.669], 4.3);
            L.tileLayer('https://api.mapbox.com/styles/v1/sophhibb/cizzjlu5700h52ro47x1lkl7z/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1Ijoic29waGhpYmIiLCJhIjoiY2l6emVhZDV5MDAzcjMzcGYxa3h4YW90cyJ9.bZMYZCAx4z-f2KleNaWtFA', {
                attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
            }).addTo(map)

            //location data
            $.getJSON('https://spreadsheets.google.com/feeds/list/1VEZ2yQ66hmULa1H4LAAoTFME5HVfs5avM2b-uFaPG8Y/1/public/values?alt=json-in-script&callback=?').then(function (data) {
            
            data.feed.entry.forEach(function (item) {
                
                var popupText = '<b>' + item.gsx$locationname.$t + '</b><br><i>' + item.gsx$film.$t + '</i><br>' + item.gsx$address.$t 
                
                L.marker([item.gsx$latitude.$t, item.gsx$longitude.$t]).addTo(map)
                .bindPopup(popupText)
            })

            })

            //sources
            $(".sources").hide();

            $(".click_sources").click(function(){
                $(".sources").show();
                $(".click_sources").hide();
            });
        </script>
    </body>
</html>